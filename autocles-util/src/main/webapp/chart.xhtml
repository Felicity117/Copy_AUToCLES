<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:x="http://myfaces.apache.org/extensions"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:r="http://richfaces.org/rich"
	xmlns:t="http://myfaces.apache.org/tomahawk">
 <head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>MEP GUI</title>
<script type="text/javascript" src="js/jquery-1.9.1.js"></script>
<script type="text/javascript">
var reloadVariable = "reloadActive";
$(function () {
    $(document).ready(function() {
        Highcharts.setOptions({
           global: {
                useUTC: false
            }
        });

 		 $.ajaxSetup({ cache:false, crossDomain:true });
window.Chart0 = new Highcharts.Chart({
  chart: {
  		renderTo: 'containerChart0',
  		type: 'spline',
  		marginLeft: 100,
  		marginRight: 100,
		ajaxSource: "#{uiBean.param('json')}",
		dataType:'json',
  		events: { load: requestDataChart0 }
 },
 title: {
    text: '#{uiBean.param("title")}'
},
xAxis: {
  type: 'datetime',
   tickPixelInterval: 150,
   gridLineWidth: 1
},
yAxis: {
  title: {
      text: 'Number of Clients'
 },
  plotLines: [{
      value: 0,
       width: 1,
      color: '#808080'
  }],
   gridLineWidth: 1
},
legend: {
    enabled: true
},
exporting: {
   enabled: true
},
});
function requestDataChart0() {
if(reloadVariable){
	if(typeof Chart0 != 'undefined'){
		Chart0.reloadAjax(true,true)
	 }
}
     //setTimeout(requestDataChart0, 5000)
}
});
});
	</script>
</head>
<body>
<script src="js/highcharts.js"></script>
<script src="js/highcharts-exporting.js"></script>
<div id="containerChart0" style="min-width: 400px; height: 400px;  border:2px solid black; margin: 0 auto"></div>
</body>
</html>